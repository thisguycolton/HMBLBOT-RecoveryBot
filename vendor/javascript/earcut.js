// earcut@2.2.4 downloaded from https://ga.jspm.io/npm:earcut@2.2.4/src/earcut.js

var e={};e=earcut;e.default=earcut;function earcut(e,n,r){r=r||2;var t=n&&n.length,i=t?n[0]*r:e.length,a=linkedList(e,0,i,r,true),x=[];if(!a||a.next===a.prev)return x;var l,o,s,u,v,f,p;t&&(a=eliminateHoles(e,n,a,r));if(e.length>80*r){l=s=e[0];o=u=e[1];for(var c=r;c<i;c+=r){v=e[c];f=e[c+1];v<l&&(l=v);f<o&&(o=f);v>s&&(s=v);f>u&&(u=f)}p=Math.max(s-l,u-o);p=0!==p?32767/p:0}earcutLinked(a,x,r,l,o,p,0);return x}function linkedList(e,n,r,t,i){var a,x;if(i===signedArea(e,n,r,t)>0)for(a=n;a<r;a+=t)x=insertNode(a,e[a],e[a+1],x);else for(a=r-t;a>=n;a-=t)x=insertNode(a,e[a],e[a+1],x);if(x&&equals(x,x.next)){removeNode(x);x=x.next}return x}function filterPoints(e,n){if(!e)return e;n||(n=e);var r,t=e;do{r=false;if(t.steiner||!equals(t,t.next)&&0!==area(t.prev,t,t.next))t=t.next;else{removeNode(t);t=n=t.prev;if(t===t.next)break;r=true}}while(r||t!==n);return n}function earcutLinked(e,n,r,t,i,a,x){if(e){!x&&a&&indexCurve(e,t,i,a);var l,o,s=e;while(e.prev!==e.next){l=e.prev;o=e.next;if(a?isEarHashed(e,t,i,a):isEar(e)){n.push(l.i/r|0);n.push(e.i/r|0);n.push(o.i/r|0);removeNode(e);e=o.next;s=o.next}else{e=o;if(e===s){if(x)if(1===x){e=cureLocalIntersections(filterPoints(e),n,r);earcutLinked(e,n,r,t,i,a,2)}else 2===x&&splitEarcut(e,n,r,t,i,a);else earcutLinked(filterPoints(e),n,r,t,i,a,1);break}}}}}function isEar(e){var n=e.prev,r=e,t=e.next;if(area(n,r,t)>=0)return false;var i=n.x,a=r.x,x=t.x,l=n.y,o=r.y,s=t.y;var u=i<a?i<x?i:x:a<x?a:x,v=l<o?l<s?l:s:o<s?o:s,f=i>a?i>x?i:x:a>x?a:x,p=l>o?l>s?l:s:o>s?o:s;var c=t.next;while(c!==n){if(c.x>=u&&c.x<=f&&c.y>=v&&c.y<=p&&pointInTriangle(i,l,a,o,x,s,c.x,c.y)&&area(c.prev,c,c.next)>=0)return false;c=c.next}return true}function isEarHashed(e,n,r,t){var i=e.prev,a=e,x=e.next;if(area(i,a,x)>=0)return false;var l=i.x,o=a.x,s=x.x,u=i.y,v=a.y,f=x.y;var p=l<o?l<s?l:s:o<s?o:s,c=u<v?u<f?u:f:v<f?v:f,y=l>o?l>s?l:s:o>s?o:s,d=u>v?u>f?u:f:v>f?v:f;var h=zOrder(p,c,n,r,t),g=zOrder(y,d,n,r,t);var m=e.prevZ,Z=e.nextZ;while(m&&m.z>=h&&Z&&Z.z<=g){if(m.x>=p&&m.x<=y&&m.y>=c&&m.y<=d&&m!==i&&m!==x&&pointInTriangle(l,u,o,v,s,f,m.x,m.y)&&area(m.prev,m,m.next)>=0)return false;m=m.prevZ;if(Z.x>=p&&Z.x<=y&&Z.y>=c&&Z.y<=d&&Z!==i&&Z!==x&&pointInTriangle(l,u,o,v,s,f,Z.x,Z.y)&&area(Z.prev,Z,Z.next)>=0)return false;Z=Z.nextZ}while(m&&m.z>=h){if(m.x>=p&&m.x<=y&&m.y>=c&&m.y<=d&&m!==i&&m!==x&&pointInTriangle(l,u,o,v,s,f,m.x,m.y)&&area(m.prev,m,m.next)>=0)return false;m=m.prevZ}while(Z&&Z.z<=g){if(Z.x>=p&&Z.x<=y&&Z.y>=c&&Z.y<=d&&Z!==i&&Z!==x&&pointInTriangle(l,u,o,v,s,f,Z.x,Z.y)&&area(Z.prev,Z,Z.next)>=0)return false;Z=Z.nextZ}return true}function cureLocalIntersections(e,n,r){var t=e;do{var i=t.prev,a=t.next.next;if(!equals(i,a)&&intersects(i,t,t.next,a)&&locallyInside(i,a)&&locallyInside(a,i)){n.push(i.i/r|0);n.push(t.i/r|0);n.push(a.i/r|0);removeNode(t);removeNode(t.next);t=e=a}t=t.next}while(t!==e);return filterPoints(t)}function splitEarcut(e,n,r,t,i,a){var x=e;do{var l=x.next.next;while(l!==x.prev){if(x.i!==l.i&&isValidDiagonal(x,l)){var o=splitPolygon(x,l);x=filterPoints(x,x.next);o=filterPoints(o,o.next);earcutLinked(x,n,r,t,i,a,0);earcutLinked(o,n,r,t,i,a,0);return}l=l.next}x=x.next}while(x!==e)}function eliminateHoles(e,n,r,t){var i,a,x,l,o,s=[];for(i=0,a=n.length;i<a;i++){x=n[i]*t;l=i<a-1?n[i+1]*t:e.length;o=linkedList(e,x,l,t,false);o===o.next&&(o.steiner=true);s.push(getLeftmost(o))}s.sort(compareX);for(i=0;i<s.length;i++)r=eliminateHole(s[i],r);return r}function compareX(e,n){return e.x-n.x}function eliminateHole(e,n){var r=findHoleBridge(e,n);if(!r)return n;var t=splitPolygon(r,e);filterPoints(t,t.next);return filterPoints(r,r.next)}function findHoleBridge(e,n){var r,t=n,i=e.x,a=e.y,x=-Infinity;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){var l=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(l<=i&&l>x){x=l;r=t.x<t.next.x?t:t.next;if(l===i)return r}}t=t.next}while(t!==n);if(!r)return null;var o,s=r,u=r.x,v=r.y,f=Infinity;t=r;do{if(i>=t.x&&t.x>=u&&i!==t.x&&pointInTriangle(a<v?i:x,a,u,v,a<v?x:i,a,t.x,t.y)){o=Math.abs(a-t.y)/(i-t.x);if(locallyInside(t,e)&&(o<f||o===f&&(t.x>r.x||t.x===r.x&&sectorContainsSector(r,t)))){r=t;f=o}}t=t.next}while(t!==s);return r}function sectorContainsSector(e,n){return area(e.prev,e,n.prev)<0&&area(n.next,e,e.next)<0}function indexCurve(e,n,r,t){var i=e;do{0===i.z&&(i.z=zOrder(i.x,i.y,n,r,t));i.prevZ=i.prev;i.nextZ=i.next;i=i.next}while(i!==e);i.prevZ.nextZ=null;i.prevZ=null;sortLinked(i)}function sortLinked(e){var n,r,t,i,a,x,l,o,s=1;do{r=e;e=null;a=null;x=0;while(r){x++;t=r;l=0;for(n=0;n<s;n++){l++;t=t.nextZ;if(!t)break}o=s;while(l>0||o>0&&t){if(0!==l&&(0===o||!t||r.z<=t.z)){i=r;r=r.nextZ;l--}else{i=t;t=t.nextZ;o--}a?a.nextZ=i:e=i;i.prevZ=a;a=i}r=t}a.nextZ=null;s*=2}while(x>1);return e}function zOrder(e,n,r,t,i){e=(e-r)*i|0;n=(n-t)*i|0;e=16711935&(e|e<<8);e=252645135&(e|e<<4);e=858993459&(e|e<<2);e=1431655765&(e|e<<1);n=16711935&(n|n<<8);n=252645135&(n|n<<4);n=858993459&(n|n<<2);n=1431655765&(n|n<<1);return e|n<<1}function getLeftmost(e){var n=e,r=e;do{(n.x<r.x||n.x===r.x&&n.y<r.y)&&(r=n);n=n.next}while(n!==e);return r}function pointInTriangle(e,n,r,t,i,a,x,l){return(i-x)*(n-l)>=(e-x)*(a-l)&&(e-x)*(t-l)>=(r-x)*(n-l)&&(r-x)*(a-l)>=(i-x)*(t-l)}function isValidDiagonal(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!intersectsPolygon(e,n)&&(locallyInside(e,n)&&locallyInside(n,e)&&middleInside(e,n)&&(area(e.prev,e,n.prev)||area(e,n.prev,n))||equals(e,n)&&area(e.prev,e,e.next)>0&&area(n.prev,n,n.next)>0)}function area(e,n,r){return(n.y-e.y)*(r.x-n.x)-(n.x-e.x)*(r.y-n.y)}function equals(e,n){return e.x===n.x&&e.y===n.y}function intersects(e,n,r,t){var i=sign(area(e,n,r));var a=sign(area(e,n,t));var x=sign(area(r,t,e));var l=sign(area(r,t,n));return i!==a&&x!==l||(!(0!==i||!onSegment(e,r,n))||(!(0!==a||!onSegment(e,t,n))||(!(0!==x||!onSegment(r,e,t))||!(0!==l||!onSegment(r,n,t)))))}function onSegment(e,n,r){return n.x<=Math.max(e.x,r.x)&&n.x>=Math.min(e.x,r.x)&&n.y<=Math.max(e.y,r.y)&&n.y>=Math.min(e.y,r.y)}function sign(e){return e>0?1:e<0?-1:0}function intersectsPolygon(e,n){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==n.i&&r.next.i!==n.i&&intersects(r,r.next,e,n))return true;r=r.next}while(r!==e);return false}function locallyInside(e,n){return area(e.prev,e,e.next)<0?area(e,n,e.next)>=0&&area(e,e.prev,n)>=0:area(e,n,e.prev)<0||area(e,e.next,n)<0}function middleInside(e,n){var r=e,t=false,i=(e.x+n.x)/2,a=(e.y+n.y)/2;do{r.y>a!==r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(t=!t);r=r.next}while(r!==e);return t}function splitPolygon(e,n){var r=new Node(e.i,e.x,e.y),t=new Node(n.i,n.x,n.y),i=e.next,a=n.prev;e.next=n;n.prev=e;r.next=i;i.prev=r;t.next=r;r.prev=t;a.next=t;t.prev=a;return t}function insertNode(e,n,r,t){var i=new Node(e,n,r);if(t){i.next=t.next;i.prev=t;t.next.prev=i;t.next=i}else{i.prev=i;i.next=i}return i}function removeNode(e){e.next.prev=e.prev;e.prev.next=e.next;e.prevZ&&(e.prevZ.nextZ=e.nextZ);e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Node(e,n,r){this.i=e;this.x=n;this.y=r;this.prev=null;this.next=null;this.z=0;this.prevZ=null;this.nextZ=null;this.steiner=false}earcut.deviation=function(e,n,r,t){var i=n&&n.length;var a=i?n[0]*r:e.length;var x=Math.abs(signedArea(e,0,a,r));if(i)for(var l=0,o=n.length;l<o;l++){var s=n[l]*r;var u=l<o-1?n[l+1]*r:e.length;x-=Math.abs(signedArea(e,s,u,r))}var v=0;for(l=0;l<t.length;l+=3){var f=t[l]*r;var p=t[l+1]*r;var c=t[l+2]*r;v+=Math.abs((e[f]-e[c])*(e[p+1]-e[f+1])-(e[f]-e[p])*(e[c+1]-e[f+1]))}return 0===x&&0===v?0:Math.abs((v-x)/x)};function signedArea(e,n,r,t){var i=0;for(var a=n,x=r-t;a<r;a+=t){i+=(e[x]-e[a])*(e[a+1]+e[x+1]);x=a}return i}earcut.flatten=function(e){var n=e[0][0].length,r={vertices:[],holes:[],dimensions:n},t=0;for(var i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var x=0;x<n;x++)r.vertices.push(e[i][a][x]);if(i>0){t+=e[i-1].length;r.holes.push(t)}}return r};var n=e;export{n as default};

